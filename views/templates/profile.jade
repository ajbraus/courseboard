.container
  .row
    .col-sm-4
      h4 {{user.first}} {{user.last}} #[span.text-muted ({{user.username}})]
      .text-right(ng-show="currentUser.role == 'Instructor'")
        a(href="users/{{user._id}}/feedback") Provide Feedback
      hr

      h4 Courses
      //- INSTRUCTOR'S COURSES
      .list-group
        a.list-group-item(href="courses/{{course._id}}" ng-repeat="course in user.courses")
          {{course.title}} 
      //- STUDENT'S ENROLLED COURSES
      .list-group
        a.list-group-item(href="courses/{{course._id}}" ng-repeat="course in user.enrolledCourses")
          {{course.title}} 
      
      h4 Products
      .list-group
        a.list-group-item(href="products/{{product._id}}" ng-repeat="product in user.products")
          {{product.name}} 

    .col-sm-4
      h4 Announcements
      div(ng-init="profile = true" ng-include="'templates/post'", ng-repeat="post in posts")
    
    .col-sm-4
      h4 Skills & Feedback
      .card(ng-show="user.feedbacks.length > 0")
        div "{{user.feedbacks[0].body | limitTo:400 }}"
        .text-right
          i.text-muted(ng-bind="user.feedbacks[0].createdAt | date:'EEE MMM dd, yyyy'")
      hr
      
      h4(ng-repeat="competency in user.competencies | orderBy: ['-level']" 
         style="display:inline-block;")
          span.label(ng-class="{ 'label-primary': competency.level == 1, 'text-large': giant }")
        //-   'label-danger': competency.level == 0, 
        //-   'label-warning': competency.level == 1,
        //-   'label-deafault': competency.level == 2,
        //-   'label-info': competency.level == 3,
        //-   'label-success': competency.level == 5,
        //-   'label-primary': competency.level == 4,
            span.level
              {{competency.level}} | 
            {{competency.name}} 
        
      
      div(ng-repeat="competency in user.competencies | orderBy: ['-level'] ")
        {{competency.name}} 
        span(ng-switch="competency.level")
          span(ng-switch-when="0") (Waiting)
          span(ng-switch-when="1") (Beginning)
          span(ng-switch-when="2") (Undertaking)
          span(ng-switch-when="3") (Approaching)
          span(ng-switch-when="4") (Overtaking)
          span(ng-switch-when="5") (Innovating)
        .progress
          .progress-bar(role='progressbar', aria-valuenow='{{competency.level/5*100}}', aria-valuemin='0', aria-valuemax='5', style='width: {{competency.level/5*100}}%;')
      h4

.btn.btn-primary.btn-block(ng-cloak ng-click="enroll()" ng-show="isCoursesLoaded && !enrolled") Enroll
        .btn.btn-success.btn-block.no-hover(ng-show='isCoursesLoaded && enrolled') Enrolled
