.container
  .row
    .col-sm-4
      h4 {{user.first}} {{user.last}} #[span.text-muted ({{user.username}})]
      .text-right(ng-show="currentUser.role == 'Instructor'")
        a(href="users/{{user._id}}/feedback") Provide Feedback
      hr

      h4 Courses
      //- STUDENT'S ENROLLED COURSES
      .list-group
        a.list-group-item(href="courses/{{course._id}}" ng-repeat="course in user.enrolledCourses")
          h4 {{course.title}} 
          p {{course.students.length}}/26 Participants
      
      h4 Products
      .card(ng-repeat="product in user.products")
        a.no-style(href="products/{{product._id}}")
          h3 {{product.name}}
          p {{product.problem}}

    .col-sm-4
      h4 Announcements
      div(ng-init="profile = true" ng-include="'templates/post'", ng-repeat="post in posts")
    
    .col-sm-4
      h4 Skills #[span(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body") & Feedback]
      .card(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body")
        div "{{user.feedbacks[0].body | limitTo:400 }}"
        .text-right
          i.text-muted(ng-bind="user.feedbacks[0].createdAt | date:'EEE MMM dd, yyyy'")

// Alex's competency change
    //-   hr
    //-   
    //-   h4(ng-repeat="competency in user.competencies | orderBy: ['-level']" 
    //-      style="display:inline-block;")
    //-       span.label(ng-class="{ 'label-primary': competency.level == 1, 'text-large': giant }")
        //-   'label-danger': competency.level == 0, 
        //-   'label-warning': competency.level == 1,
        //-   'label-deafault': competency.level == 2,
        //-   'label-info': competency.level == 3,
        //-   'label-success': competency.level == 5,
        //-   'label-primary': competency.level == 4,
            //- span.level
            //-   {{competency.level}} | 
            //- {{competency.name}} 
        
      
      hr(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body")

      div(ng-repeat="competency in user.competencies | orderBy: ['-level'] ")
        {{competency.name}} 
        span(ng-switch="competency.level")
          span(ng-switch-when="0") (Waiting)
          span(ng-switch-when="1") (Beginning)
          span(ng-switch-when="2") (Undertaking)
          span(ng-switch-when="3") (Approaching)
          span(ng-switch-when="4") (Overtaking)
          span(ng-switch-when="5") (Innovating)
        .progress
          .progress-bar(role='progressbar', aria-valuenow='{{competency.level/5*100}}', aria-valuemin='0', aria-valuemax='5', style='width: {{competency.level/5*100}}%;')

//-       h4
//- 
//- .btn.btn-primary.btn-block(ng-cloak ng-click="enroll()" ng-show="isCoursesLoaded && !enrolled") Enroll
//-         .btn.btn-success.btn-block.no-hover(ng-show='isCoursesLoaded && enrolled') Enrolled

      hr(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body")
      h4(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body") Feedback
      div(ng-show="user.feedbacks.length > 0 && user.feedbacks[0].body")
        .card(ng-repeat="feedback in user.feedbacks")
          p
            span.label.label-primary(ng-repeat="c in feedback.competencies" style="display:inline-block; margin-right:3px") {{c.level}} | {{c.name}} 
          | "{{feedback.body}}"
          .text-right
            i.text-muted(ng-bind="feedback.createdAt | date:'EEE MMM dd, yyyy'")
